<template>
  <require from="components/rating/rating"></require>
  <div class="container">
  <h2 class="page-title">Upload Ebook</h2>
  <p>Upload ebook file - it'll be analyzed and you'll be notified when it'll be
    ready be included into collection </p>
<form id="file-upload-form" enctype="multipart/form-data">
  <div class='form-group'>
  <input type="file" name="file" id="file-input" change.trigger="checkFile()">
</div>
<div if.bind="fileOK">
  <div class='form-group'>
    <label>File Quality (spellling, formatting, pictures, etc.)</label>
    <rating size=2 rating.bind="rating"></rating>
  </div>
  <div class='form-group'>
  <button class="btn btn-primary" click.trigger="upload()">Upload</button>
  </div>
</div>
</form>
<div class='uploading-progress' if.bind="checking">
  <i class="fa fa-spinner fa-spin fa-fw"></i> Checking file please wait ...
</div>

<div class='uploading-progress' if.bind="uploading">
  <i class="fa fa-spinner fa-spin fa-fw"></i> Uploading file please wait ...
</div>
<error-alert error.bind="uploadError"></error-alert>
<div class="" if.bind="uploadId">
  <p>File was successfully upload to server.  Now file has to be analyzed, it can take a while.
    Wait for notification.
  </p>
</div>
</div>
</template>
